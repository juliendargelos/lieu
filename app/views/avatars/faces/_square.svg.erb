<%
  edit ||= false
  skin ||= nil
  sweater ||= nil

  skin = if skin.present?
           Avatar.skin_names[skin.to_s]
         else
           edit ? '{{skin}}' : avatar&.skin_name
         end

  sweater = if sweater.present?
              Avatar.sweater_names[sweater.to_s]
            else
              edit ? '{{sweater}}' : avatar&.sweater_name
            end
%>

<svg class="avatar__face" xmlns="http://www.w3.org/2000/svg" width="347" height="347" viewBox="0 0 347 347">
  <g fill="none" transform="translate(72 66)">
    <path class="avatar__skin avatar__skin--<%= skin %>" fill="#FFF" d="M170.017628,50.1009314 C168.934249,50.1009314 167.872239,50.1821471 166.820913,50.3039706 C161.574965,24.1268725 138.469292,4.40642157 110.754449,4.40642157 L90.8903653,4.40642157 C63.1755232,4.40642157 40.0698495,24.1268725 34.8217653,50.3039706 C33.7725758,50.1821471 32.7084284,50.1009314 31.6229126,50.1009314 C16.5197126,50.1009314 4.27560737,62.347402 4.27560737,77.4556569 C4.27560737,92.566049 16.5197126,104.81252 31.6229126,104.81252 C32.3237968,104.81252 33.0139968,104.759088 33.70206,104.707794 L33.70206,126.407343 C33.70206,144.584696 48.4355863,159.321069 66.6094284,159.321069 L82.8237863,159.321069 L82.8237863,180.460657 L82.8237863,195.323127 L82.8237863,204.261127 C82.8237863,207.785461 85.6786074,210.640833 89.20226,210.640833 L112.444692,210.640833 C115.964071,210.640833 118.821028,207.785461 118.821028,204.261127 L118.821028,195.323127 L118.821028,180.460657 L118.821028,159.321069 L135.035386,159.321069 C153.209228,159.321069 167.942755,144.584696 167.942755,126.407343 L167.942755,104.707794 C168.630818,104.759088 169.316744,104.81252 170.017628,104.81252 C185.122965,104.81252 197.371344,92.566049 197.371344,77.4556569 C197.371344,62.347402 185.122965,50.1009314 170.017628,50.1009314"></path>
    <path class="avatar__sweater avatar__sweater--<%= sweater %>" fill="#FFF" d="M112.444051,210.640192 L89.1994821,210.640192 C85.6801032,210.640192 82.8252821,207.78482 82.8252821,204.262624 L82.8252821,180.460016 L118.818251,180.460016 L118.818251,204.262624 C118.818251,207.78482 115.963429,210.640192 112.444051,210.640192"></path>
    <path fill="#2C00B9" d="M172.208746,100.4388 L172.208746,61.6048784 C172.208746,59.1897804 172.059167,56.7960549 171.781378,54.4450745 C183.681452,55.3427216 193.085694,65.323702 193.085694,77.4633098 C193.085694,89.4533098 183.897273,99.327427 172.208746,100.4388 Z M163.661378,126.406447 C163.661378,142.200761 150.818957,155.045663 135.027694,155.045663 L123.104115,155.045663 L78.5509568,155.045663 L66.6060095,155.045663 C50.8126095,155.045663 37.9723253,142.200761 37.9723253,126.406447 L37.9723253,108.453506 L37.9723253,99.648016 L37.9723253,61.6048784 C37.9723253,59.5103686 38.1005358,57.4158588 38.35482,55.3854667 C38.6774832,52.5001725 39.2522937,49.7003686 40.0429253,46.9860549 C46.3893463,24.8868392 66.7769568,8.68644706 90.8783989,8.68644706 L110.753167,8.68644706 C134.856746,8.68644706 155.24222,24.8868392 161.586504,46.9860549 C162.377136,49.7003686 162.95622,52.5001725 163.274609,55.3854667 C163.531031,57.4158588 163.661378,59.5103686 163.661378,61.6048784 L163.661378,99.648016 L163.661378,108.453506 L163.661378,126.406447 Z M114.556746,204.266643 C114.556746,205.420761 113.593031,206.361153 112.439136,206.361153 L89.1902937,206.361153 C88.0363989,206.361153 87.0983253,205.420761 87.0983253,204.266643 L87.0983253,184.732133 L114.556746,184.732133 L114.556746,204.266643 Z M8.54800947,77.4633098 C8.54800947,65.323702 17.9693463,55.3640941 29.8523253,54.4450745 C29.5745358,56.7960549 29.4249568,59.1897804 29.4249568,61.6048784 L29.4249568,100.4388 C17.7342937,99.327427 8.54800947,89.4319373 8.54800947,77.4633098 Z M170.133873,45.8319373 C163.169904,19.543702 139.194536,0.13742745 110.753167,0.13742745 L90.8783989,0.13742745 C62.4605358,0.13742745 38.4637989,19.543702 31.4955568,45.8319373 C14.1251674,45.8960549 0.00064105,60.0660549 0.00064105,77.4633098 C0.00064105,94.1552706 13.0140095,107.876447 29.4249568,109.009192 L29.4249568,126.406447 C29.4249568,146.902722 46.1136937,163.594682 66.6060095,163.594682 L78.5509568,163.594682 L78.5509568,176.183114 L78.5509568,204.266643 C78.5509568,210.144094 83.3374832,214.910173 89.1902937,214.910173 L112.439136,214.910173 C118.315452,214.910173 123.104115,210.144094 123.104115,204.266643 L123.104115,176.183114 L123.104115,163.594682 L135.027694,163.594682 C155.539241,163.594682 172.208746,146.902722 172.208746,126.406447 L172.208746,109.009192 C188.638925,107.89782 201.633062,94.1766431 201.633062,77.4633098 C201.633062,60.0660549 187.529904,45.8960549 170.133873,45.8319373 Z"></path>
    <path fill="#8896FB" d="M76.7960049,94.1897148 C76.6652777,97.6415503 69.5713197,100.425367 60.8389588,100.425367 C52.0270569,100.425367 44.8822137,97.5892298 44.8822137,94.0926808 C44.8822137,90.5961318 52.0270569,87.7599945 60.8389588,87.7599945 C69.5713197,87.7599945 76.6652777,90.5438113 76.7960049,93.9956468 L76.7960049,94.1897148 Z M159.936997,94.1553123 C159.852284,97.623035 152.740232,100.425367 143.978879,100.425367 C135.16484,100.425367 128.019997,97.5892298 128.019997,94.0926808 C128.019997,90.5961318 135.16484,87.7599945 143.978879,87.7599945 C152.740232,87.7599945 159.852284,90.5623266 159.936997,94.0300492 L159.936997,94.1553123 Z"></path>
  </g>
</svg>
