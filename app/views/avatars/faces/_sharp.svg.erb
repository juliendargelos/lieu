<%
  avatar ||= nil
  edit ||= false
  skin ||= nil
  sweater ||= nil

  skin = if skin.present?
           Avatar.properties[:skin][:values][skin.to_sym][:modifier]
           edit = false
         else
           edit ? '${avatar.skin}' : avatar&.skin_modifier
         end

  sweater = if sweater.present?
              Avatar.properties[:sweater][:values][sweater.to_sym][:modifier]
              edit = false
            else
              edit ? '${avatar.sweater}' : avatar&.sweater_modifier
            end

  bind_attribute = edit ? ':' : ''
  bind_delimiter = edit ? '`' : ''
%>

<svg class="avatar__face" xmlns="http://www.w3.org/2000/svg" width="347" height="347" viewBox="0 0 347 347">
  <g fill="none" transform="translate(70 66)">
    <path <%= bind_attribute %>class="<%= bind_delimiter %>avatar__skin avatar__skin--<%= skin %><%= bind_delimiter %>" fill="#FFF" d="M174.06758,49.0303804 C173.971549,49.0303804 173.879787,49.0432039 173.783756,49.0453412 L173.783756,45.6791647 C173.783756,22.8874784 156.276251,4.4109098 134.677828,4.4109098 L70.9794464,4.4109098 C49.3810237,4.4109098 31.8713845,22.8874784 31.8713845,45.6791647 L31.8713845,49.0453412 C31.7753536,49.0432039 31.6835907,49.0303804 31.5875598,49.0303804 C16.5043021,49.0303804 4.27636392,61.276851 4.27636392,76.3851059 C4.27636392,91.4933608 16.5043021,103.741969 31.5875598,103.741969 C32.2853845,103.741969 32.9661371,103.688537 33.6468897,103.637243 C38.5786113,125.712949 53.4740753,144.307067 74.0844464,152.811204 L83.6427247,156.754439 C84.0417866,156.919008 84.4536526,157.032282 84.8548485,157.186165 L84.8548485,179.819694 L84.8548485,194.680027 L84.8548485,203.620165 C84.8548485,207.142361 87.7059,209.997733 91.2249,209.997733 L114.436642,209.997733 C117.951374,209.997733 120.80456,207.142361 120.80456,203.620165 L120.80456,194.680027 L120.80456,179.819694 L120.80456,157.186165 C121.205756,157.032282 121.615488,156.919008 122.012415,156.754439 L131.572828,152.811204 C152.181065,144.307067 167.078663,125.712949 172.008251,103.637243 C172.691137,103.688537 173.374024,103.741969 174.06758,103.741969 C189.152972,103.741969 201.383044,91.4933608 201.383044,76.3851059 C201.383044,61.276851 189.152972,49.0303804 174.06758,49.0303804"></path>
    <path <%= bind_attribute %>class="<%= bind_delimiter %>avatar__sweater avatar__sweater--<%= sweater %><%= bind_delimiter %>" fill="#FFF" d="M114.433655,209.998588 L91.2219124,209.998588 C87.7071804,209.998588 84.8561289,207.143216 84.8561289,203.62102 L84.8561289,179.818412 L120.801572,179.818412 L120.801572,203.62102 C120.801572,207.143216 117.950521,209.998588 114.433655,209.998588"></path>
    <path fill="#2C00B9" d="M177.187305,99.262784 C177.765625,95.4584706 178.062254,91.5472941 178.062254,87.572 L178.062254,53.6537647 C188.860398,55.5559216 197.119058,65.0239608 197.119058,76.3941569 C197.119058,88.0421961 188.412254,97.7239608 177.187305,99.262784 Z M129.940089,148.868471 L120.379676,152.80102 C118.887996,153.420824 117.370707,153.955137 115.855553,154.403961 C107.31947,156.947294 98.3352433,156.947294 89.7991608,154.403961 C88.2840062,153.955137 86.7688515,153.420824 85.2771711,152.80102 L75.7146247,148.868471 C57.6373361,141.409451 44.3893361,125.957098 38.9027691,107.149255 C38.1345216,104.434941 37.4943155,101.65651 37.0461711,98.813961 C36.4486454,95.1592549 36.1498825,91.3976863 36.1498825,87.572 L36.1498825,53.7606275 L36.1498825,45.6818039 C36.1498825,45.489451 36.1498825,45.297098 36.1712227,45.1047451 C36.4486454,24.9504314 51.9629753,8.6859216 70.9749649,8.6859216 L134.677614,8.6859216 C153.691738,8.6859216 169.229542,24.9504314 169.502697,45.1047451 C169.526171,45.297098 169.526171,45.489451 169.526171,45.6818039 L169.526171,53.7606275 L169.526171,87.572 C169.526171,91.3976863 169.229542,95.1592549 168.629882,98.813961 C168.181738,101.65651 167.539398,104.434941 166.773285,107.149255 C161.288852,125.957098 148.015243,141.409451 129.940089,148.868471 Z M114.425759,205.719451 L91.2289546,205.719451 C90.7786763,205.719451 90.3838825,205.548471 90.0424392,205.313373 C89.5003979,204.930804 89.1226763,204.332373 89.1226763,203.620667 L89.1226763,184.092569 L116.534171,184.092569 L116.534171,203.620667 C116.534171,204.212686 116.284491,204.744863 115.889697,205.127431 C115.511975,205.490765 114.997676,205.719451 114.425759,205.719451 Z M116.538439,175.543549 L89.1141402,175.543549 L89.1141402,163.081216 C93.6190577,164.256706 98.2285423,164.855137 102.838027,164.855137 C107.426171,164.855137 112.035656,164.256706 116.538439,163.081216 L116.538439,175.543549 Z M8.53565567,76.3941569 C8.53565567,65.0239608 16.7943155,55.5559216 27.6138,53.6537647 L27.6138,87.572 C27.6138,91.5472941 27.9125629,95.4584706 28.4887485,99.262784 C17.2424598,97.7453333 8.53565567,88.0635686 8.53565567,76.3941569 Z M178.038779,45.0192549 C177.72081,20.2057255 158.386584,0.13690196 134.677614,0.13690196 L70.9749649,0.13690196 C47.2681299,0.13690196 27.9552433,20.2057255 27.6351402,45.0192549 C12.0781299,46.9641569 -0.0004268,60.3006275 -0.0004268,76.3941569 C-0.0004268,93.4067059 13.4652433,107.320235 30.2813258,107.982784 C36.1712227,129.953765 51.4508103,148.077686 72.4495732,156.754941 L80.5780577,160.110431 L80.5780577,203.624941 C80.5780577,207.001804 82.1871093,209.976863 84.645501,211.926039 C86.4594186,213.372961 88.7278825,214.272745 91.2225526,214.272745 L114.434295,214.272745 C117.221326,214.272745 119.743738,213.167784 121.643016,211.404549 C123.738625,209.459647 125.074522,206.706863 125.074522,203.624941 L125.074522,160.110431 L133.20514,156.754941 C154.225243,148.077686 169.502697,129.953765 175.394728,107.982784 C192.18947,107.298863 205.65514,93.3853333 205.65514,76.3941569 C205.65514,60.3006275 193.597924,46.9855294 178.038779,45.0192549 Z"></path>
    <path fill="#8896FB" d="M61.3909971,100.425995 L60.2826349,100.425995 C51.7272637,100.310069 44.8800049,97.5200154 44.8800049,94.0970569 C44.8800049,90.6005078 52.024848,87.7643706 60.83675,87.7643706 C69.6507892,87.7643706 76.7956324,90.6005078 76.7956324,94.0970569 C76.7956324,97.5200154 69.9483734,100.310069 61.3909971,100.425995 Z M159.93702,94.1553123 C159.852307,97.623035 152.740254,100.425367 143.978902,100.425367 C135.164863,100.425367 128.02002,97.5892298 128.02002,94.0926808 C128.02002,90.5961318 135.164863,87.7599945 143.978902,87.7599945 C152.740254,87.7599945 159.852307,90.5623266 159.93702,94.0300492 L159.93702,94.1553123 Z"></path>
  </g>
</svg>
