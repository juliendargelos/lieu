<%
  avatar ||= nil
  edit ||= false
  skin ||= nil
  sweater ||= nil

  skin = if skin.present?
           Avatar.skin_names[skin.to_s]
         else
           edit ? '{{skin}}' : avatar&.skin_name
         end

  sweater = if sweater.present?
              Avatar.sweater_names[sweater.to_s]
            else
              edit ? '{{sweater}}' : avatar&.sweater_name
            end
%>

<svg class="avatar__face" xmlns="http://www.w3.org/2000/svg" width="347" height="347" viewBox="0 0 347 347">
  <g fill="none" transform="translate(72 66)">
    <path class="avatar__skin avatar__skin--<%= skin %>" fill="#FFF" d="M197.360446,76.8756059 C197.360446,61.767351 185.114204,49.5208804 170.008867,49.5208804 C168.694709,49.5208804 167.412604,49.6448412 166.149731,49.8243706 L165.621931,46.3662922 C161.06832,16.4981549 144.195815,4.40556667 106.290373,4.40556667 L92.0568674,4.40556667 C52.8714568,4.40556667 36.3985411,17.966449 33.0436989,49.0186255 L32.9817305,49.5892725 C32.5244463,49.5657627 32.0757095,49.5208804 31.6162884,49.5208804 C16.5109516,49.5208804 4.26470947,61.767351 4.26470947,76.8756059 C4.26470947,90.451449 14.1604253,101.682724 27.1225095,103.830665 L26.7400147,107.369959 C23.7441621,135.111527 45.4758463,159.320214 73.3744568,159.320214 L82.8150253,159.320214 L82.8150253,180.459802 L82.8150253,195.322273 L82.8150253,204.26241 C82.8150253,207.784606 85.6677095,210.639978 89.1913621,210.639978 L112.433794,210.639978 C115.953173,210.639978 118.810131,207.784606 118.810131,204.26241 L118.810131,195.322273 L118.810131,180.459802 L118.810131,159.320214 L128.246425,159.320214 C156.96772,159.320214 178.945141,133.732998 174.611625,105.333155 L174.387257,103.8499 C187.407036,101.748978 197.360446,90.4899196 197.360446,76.8756059"></path>
    <path class="avatar__sweater avatar__sweater--<%= sweater %>" fill="#FFF" d="M112.43358,210.639765 L89.1911484,210.639765 C85.6696326,210.639765 82.8148116,207.784392 82.8148116,204.262196 L82.8148116,180.459588 L118.809917,180.459588 L118.809917,204.262196 C118.809917,207.784392 115.955096,210.639765 112.43358,210.639765"></path>
    <path fill="#2C00B9" d="M177.893174,98.5794725 L171.095879,53.8253549 C183.318616,54.4024137 193.083984,64.5116294 193.083984,76.8863353 C193.083984,86.8459431 186.758932,95.3522176 177.893174,98.5794725 Z M160.582616,140.191825 C152.483984,149.638492 140.690753,155.045747 128.254332,155.045747 L123.085311,155.045747 L78.5407,155.045747 L73.3802263,155.045747 C61.2857,155.045747 49.7253842,149.894963 41.6459842,140.89712 C33.7183,132.070257 29.8527526,120.293982 30.9211737,108.496335 C30.9404053,108.28261 30.9617737,108.047512 30.9852789,107.833786 L31.8378789,99.968688 L36.7526158,54.3810412 L37.2868263,49.4867275 C37.4171737,48.2471196 37.5881211,47.0288843 37.7804368,45.8533941 C41.8169316,19.1804529 57.3539105,8.68653137 92.0562263,8.68653137 L106.285458,8.68653137 C141.970721,8.68653137 156.949984,18.9453549 161.309142,46.4945706 C161.332647,46.665551 161.375384,46.8365314 161.394616,47.0075118 L162.614753,55.0435902 L169.474016,99.968688 L170.390721,105.974375 C170.518932,106.807904 170.627911,107.662806 170.689879,108.496335 C171.7583,119.973394 168.127805,131.386335 160.582616,140.191825 Z M114.537942,204.262453 C114.537942,205.422982 113.593458,206.365512 112.433153,206.365512 L89.1907211,206.365512 C88.0304158,206.365512 87.0880684,205.422982 87.0880684,204.262453 L87.0880684,184.736492 L114.537942,184.736492 L114.537942,204.262453 Z M8.54843684,76.8863353 C8.54843684,65.3024137 17.0958053,55.7061392 28.2052474,54.0604529 L23.4187211,98.4512373 C14.7239105,95.1384922 8.54843684,86.7177078 8.54843684,76.8863353 Z M201.631353,76.8863353 C201.631353,59.4463353 187.444858,45.2549627 170.008226,45.2549627 L169.771037,45.2549627 C164.770826,13.6449627 145.776437,0.13751176 106.285458,0.13751176 L92.0562263,0.13751176 C52.6934579,0.13751176 33.6990684,13.6877078 29.2117,45.3618255 C12.8840895,46.5800608 0.00106842,60.2584922 0.00106842,76.8863353 C0.00106842,91.1418255 9.48651053,103.238688 22.4806474,107.149865 C20.9827211,121.490845 25.6431737,135.874571 35.3017,146.60359 C44.9794579,157.396727 58.8689316,163.594767 73.3802263,163.594767 L78.5407,163.594767 L78.5407,176.187473 L78.5407,204.262453 C78.5407,210.135629 83.3186789,214.914531 89.1907211,214.914531 L112.433153,214.914531 C118.305195,214.914531 123.085311,210.135629 123.085311,204.262453 L123.085311,176.187473 L123.085311,163.594767 L128.254332,163.594767 C143.190858,163.594767 157.334616,157.097512 167.059384,145.770061 C176.267037,135.062414 180.606963,121.127512 179.132542,107.171237 C192.122405,103.260061 201.631353,91.163198 201.631353,76.8863353 Z"></path>
    <path fill="#8896FB" d="M59.4218569,100.837999 L58.3778973,100.837999 C49.8389596,100.727978 43,97.9280568 43,94.4920714 C43,90.9863571 50.1193519,88.1427857 58.8998148,88.1427857 C67.6824074,88.1427857 74.8017592,90.9863571 74.8017592,94.4920714 C74.8017592,97.9280568 67.9627996,100.727978 59.4218569,100.837999 Z M157.641996,94.5881308 C157.510768,98.0196766 150.558278,100.79237 141.957463,100.837999 L141.526418,100.837999 C132.843172,100.791933 125.839996,97.966278 125.839996,94.4892851 C125.839996,90.9835708 132.959348,88.1399994 141.741941,88.1399994 C150.441841,88.1399994 157.509674,90.9302759 157.641996,94.3904395 L157.641996,94.5881308 Z"></path>
  </g>
</svg>
